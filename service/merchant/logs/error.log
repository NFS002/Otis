{"message": "Error in call to CreatePartnerMerchant: OperationalError('(psycopg2.OperationalError) FATAL:  role \"postgres\" does not exist\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:09:05.352242", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "50aa7dc0-3f93-46c7-a85f-670555bde6c4", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2345, in _wrap_pool_connect\n    return fn()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 364, in connect\n    return _ConnectionFairy._checkout(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 778, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 495, in checkout\n    rec = pool._do_get()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/impl.py\", line 140, in _do_get\n    self._dec_overflow()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/impl.py\", line 137, in _do_get\n    return self._create_connection()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 309, in _create_connection\n    return _ConnectionRecord(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 440, in __init__\n    self.__connect(first_connect_check=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 661, in __connect\n    pool.logger.debug(\"Error on connect(): %s\", e)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 656, in __connect\n    connection = pool._invoke_creator(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py\", line 114, in connect\n    return dialect.connect(*cargs, **cparams)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 490, in connect\n    return self.dbapi.connect(*cargs, **cparams)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/psycopg2/__init__.py\", line 127, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: FATAL:  role \"postgres\" does not exist\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 42, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 213, in save_obj\n    ) in _organize_states_for_save(base_mapper, states, uowtransaction):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 374, in _organize_states_for_save\n    base_mapper, uowtransaction, states\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1602, in _connections_for_states\n    connection = uowtransaction.transaction.connection(base_mapper)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 314, in connection\n    return self._connection_for_bind(bind, execution_options)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 421, in _connection_for_bind\n    conn = self._parent._connection_for_bind(bind, execution_options)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 433, in _connection_for_bind\n    conn = bind._contextual_connect()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2311, in _contextual_connect\n    self._wrap_pool_connect(self.pool.connect, None),\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2349, in _wrap_pool_connect\n    e, dialect, self\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1591, in _handle_dbapi_exception_noconnection\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2345, in _wrap_pool_connect\n    return fn()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 364, in connect\n    return _ConnectionFairy._checkout(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 778, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 495, in checkout\n    rec = pool._do_get()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/impl.py\", line 140, in _do_get\n    self._dec_overflow()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/impl.py\", line 137, in _do_get\n    return self._create_connection()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 309, in _create_connection\n    return _ConnectionRecord(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 440, in __init__\n    self.__connect(first_connect_check=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 661, in __connect\n    pool.logger.debug(\"Error on connect(): %s\", e)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 656, in __connect\n    connection = pool._invoke_creator(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py\", line 114, in connect\n    return dialect.connect(*cargs, **cparams)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 490, in connect\n    return self.dbapi.connect(*cargs, **cparams)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/psycopg2/__init__.py\", line 127, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) FATAL:  role \"postgres\" does not exist\n\n(Background on this error at: http://sqlalche.me/e/e3q8)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\\n                    ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:11:46.452216", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "2b19095a-eec5-48c2-aac7-7fbbae8d1bd8", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedTable: relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 42, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n[SQL: INSERT INTO merchants (deleted_at, updated_at, name) VALUES (%(deleted_at)s, %(updated_at)s, %(name)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'updated_at': None, 'name': 'greggs'}]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\\n                    ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:13:05.500726", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "f0084b57-86a0-4784-aa40-9aa52ef0bad2", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedTable: relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 42, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n[SQL: INSERT INTO merchants (deleted_at, updated_at, name) VALUES (%(deleted_at)s, %(updated_at)s, %(name)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'updated_at': None, 'name': 'greggs'}]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\\n                    ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:16:26.714947", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "ff1a59ff-69ea-4977-949a-351768c49c99", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedTable: relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 42, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n[SQL: INSERT INTO merchants (deleted_at, updated_at, name) VALUES (%(deleted_at)s, %(updated_at)s, %(name)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'updated_at': None, 'name': 'greggs'}]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\\n                    ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:18:10.448021", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "6a4d4186-6c3b-4c48-9f33-e1580389c229", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedTable: relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 42, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n[SQL: INSERT INTO merchants (deleted_at, updated_at, name) VALUES (%(deleted_at)s, %(updated_at)s, %(name)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'updated_at': None, 'name': 'greggs'}]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\\n                    ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:18:40.908277", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "6a786deb-c760-49ea-9a07-32216fcbd5e6", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedTable: relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 42, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n[SQL: INSERT INTO merchants (deleted_at, updated_at, name) VALUES (%(deleted_at)s, %(updated_at)s, %(name)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'updated_at': None, 'name': 'greggs'}]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:21:17.731513", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "0448b5a3-ec31-40fe-a28d-e4d469ae1cff", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:36:11.736426", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "8d1740b1-42d4-4ff8-8cdc-63b7a63487bd", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T12:11:24.848391", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "c0af6437-9c2f-49b7-a2e2-21c6243f4703", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T12:23:35.090351", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "74411851-1938-475e-8cc2-938d08e271f8", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T12:28:50.706116", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "d306ab4a-5ade-4608-95f2-17236bbbcebb", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T12:31:40.740007", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "f843c630-f6e2-47c2-ac0c-1a2f0ea82a3b", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T12:41:25.664404", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "0550fb16-e9aa-49ef-8f28-2e2041d559b1", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T12:47:43.270428", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "bca4727b-9268-4f48-87bc-d26923b57ff4", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T13:24:07.367072", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "29c3519b-4065-4548-b46a-3409a2f9f661", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 38, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T14:29:50.582677", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "f927b73f-d476-4fac-a537-013509caf695", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 38, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: AttributeError(\"'sessionmaker' object has no attribute 'add'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T14:31:12.827163", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "ba3a9651-af2a-4c12-a4ea-2add98988510", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 40, in CreatePartnerMerchant\n    session.add(merchant)\nAttributeError: 'sessionmaker' object has no attribute 'add'\n"}
{"message": "Error in call to CreatePartnerMerchant: IntegrityError('(psycopg2.errors.NotNullViolation) null value in column \"updated_at\" violates not-null constraint\\nDETAIL:  Failing row contains (2020-06-05 14:48:22.289855+01, null, null, 1, greggs).\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T14:48:22.439905", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "cb32eda4-8049-4e69-b3f0-af5b4b46e521", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.NotNullViolation: null value in column \"updated_at\" violates not-null constraint\nDETAIL:  Failing row contains (2020-06-05 14:48:22.289855+01, null, null, 1, greggs).\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 41, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column \"updated_at\" violates not-null constraint\nDETAIL:  Failing row contains (2020-06-05 14:48:22.289855+01, null, null, 1, greggs).\n\n[SQL: INSERT INTO merchants (deleted_at, updated_at, name) VALUES (%(deleted_at)s, %(updated_at)s, %(name)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'updated_at': None, 'name': 'greggs'}]\n(Background on this error at: http://sqlalche.me/e/gkpj)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T15:43:27.844812", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "fa36d9d0-e674-4fca-8f61-a9e16d087d25", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 36, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: AttributeError(\"type object 'Merchant' has no attribute 'query'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T16:05:33.163038", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "6520b686-9721-4b95-827b-9fc9fbcdf722", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 45, in CreatePartnerMerchant\n    merchant = Merchant.query.filter_by(name=partner_merchant.name).first()\nAttributeError: type object 'Merchant' has no attribute 'query'\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T16:19:29.752408", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "20b2e5df-fc09-45ff-afc1-14b2b7a5e011", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 36, in CreatePartnerMerchant\n    session = self.Session()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T23:08:36.855862", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "afa29d96-c8ba-4b84-9633-736ec5f88f3f", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 36, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tsector VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: AttributeError(\"'dict' object has no attribute 'partnerMerchant'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T23:27:26.591342", "request": {"raw": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "dict": {"partnerMerchant": {"name": "greggs", "sector": "food"}}}, "rollbar_uuid": "74ff0e98-8737-4c8a-b771-f1da7ca201f3", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, request_dict=request_dict)\n  File \"./impl/__init__.py\", line 40, in CreatePartnerMerchant\n    merchant = Merchant(**request_dict.partnerMerchant)\nAttributeError: 'dict' object has no attribute 'partnerMerchant'\n"}
