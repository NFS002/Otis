{"message": "Error in call to CreatePartnerMerchant: OperationalError('(psycopg2.OperationalError) FATAL:  role \"postgres\" does not exist\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:09:05.352242", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "50aa7dc0-3f93-46c7-a85f-670555bde6c4", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2345, in _wrap_pool_connect\n    return fn()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 364, in connect\n    return _ConnectionFairy._checkout(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 778, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 495, in checkout\n    rec = pool._do_get()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/impl.py\", line 140, in _do_get\n    self._dec_overflow()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/impl.py\", line 137, in _do_get\n    return self._create_connection()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 309, in _create_connection\n    return _ConnectionRecord(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 440, in __init__\n    self.__connect(first_connect_check=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 661, in __connect\n    pool.logger.debug(\"Error on connect(): %s\", e)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 656, in __connect\n    connection = pool._invoke_creator(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py\", line 114, in connect\n    return dialect.connect(*cargs, **cparams)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 490, in connect\n    return self.dbapi.connect(*cargs, **cparams)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/psycopg2/__init__.py\", line 127, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: FATAL:  role \"postgres\" does not exist\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 42, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 213, in save_obj\n    ) in _organize_states_for_save(base_mapper, states, uowtransaction):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 374, in _organize_states_for_save\n    base_mapper, uowtransaction, states\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1602, in _connections_for_states\n    connection = uowtransaction.transaction.connection(base_mapper)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 314, in connection\n    return self._connection_for_bind(bind, execution_options)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 421, in _connection_for_bind\n    conn = self._parent._connection_for_bind(bind, execution_options)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 433, in _connection_for_bind\n    conn = bind._contextual_connect()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2311, in _contextual_connect\n    self._wrap_pool_connect(self.pool.connect, None),\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2349, in _wrap_pool_connect\n    e, dialect, self\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1591, in _handle_dbapi_exception_noconnection\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2345, in _wrap_pool_connect\n    return fn()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 364, in connect\n    return _ConnectionFairy._checkout(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 778, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 495, in checkout\n    rec = pool._do_get()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/impl.py\", line 140, in _do_get\n    self._dec_overflow()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/impl.py\", line 137, in _do_get\n    return self._create_connection()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 309, in _create_connection\n    return _ConnectionRecord(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 440, in __init__\n    self.__connect(first_connect_check=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 661, in __connect\n    pool.logger.debug(\"Error on connect(): %s\", e)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/pool/base.py\", line 656, in __connect\n    connection = pool._invoke_creator(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py\", line 114, in connect\n    return dialect.connect(*cargs, **cparams)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 490, in connect\n    return self.dbapi.connect(*cargs, **cparams)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/psycopg2/__init__.py\", line 127, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) FATAL:  role \"postgres\" does not exist\n\n(Background on this error at: http://sqlalche.me/e/e3q8)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\\n                    ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:11:46.452216", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "2b19095a-eec5-48c2-aac7-7fbbae8d1bd8", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedTable: relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 42, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n[SQL: INSERT INTO merchants (deleted_at, updated_at, name) VALUES (%(deleted_at)s, %(updated_at)s, %(name)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'updated_at': None, 'name': 'greggs'}]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\\n                    ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:13:05.500726", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "f0084b57-86a0-4784-aa40-9aa52ef0bad2", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedTable: relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 42, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n[SQL: INSERT INTO merchants (deleted_at, updated_at, name) VALUES (%(deleted_at)s, %(updated_at)s, %(name)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'updated_at': None, 'name': 'greggs'}]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\\n                    ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:16:26.714947", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "ff1a59ff-69ea-4977-949a-351768c49c99", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedTable: relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 42, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n[SQL: INSERT INTO merchants (deleted_at, updated_at, name) VALUES (%(deleted_at)s, %(updated_at)s, %(name)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'updated_at': None, 'name': 'greggs'}]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\\n                    ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:18:10.448021", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "6a4d4186-6c3b-4c48-9f33-e1580389c229", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedTable: relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 42, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n[SQL: INSERT INTO merchants (deleted_at, updated_at, name) VALUES (%(deleted_at)s, %(updated_at)s, %(name)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'updated_at': None, 'name': 'greggs'}]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\\n                    ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:18:40.908277", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "6a786deb-c760-49ea-9a07-32216fcbd5e6", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedTable: relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 42, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, updated_at, name) VALUES ...\n                    ^\n\n[SQL: INSERT INTO merchants (deleted_at, updated_at, name) VALUES (%(deleted_at)s, %(updated_at)s, %(name)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'updated_at': None, 'name': 'greggs'}]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:21:17.731513", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "0448b5a3-ec31-40fe-a28d-e4d469ae1cff", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T11:36:11.736426", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "8d1740b1-42d4-4ff8-8cdc-63b7a63487bd", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T12:11:24.848391", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "c0af6437-9c2f-49b7-a2e2-21c6243f4703", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T12:23:35.090351", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "74411851-1938-475e-8cc2-938d08e271f8", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T12:28:50.706116", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "d306ab4a-5ade-4608-95f2-17236bbbcebb", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T12:31:40.740007", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "f843c630-f6e2-47c2-ac0c-1a2f0ea82a3b", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T12:41:25.664404", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "0550fb16-e9aa-49ef-8f28-2e2041d559b1", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T12:47:43.270428", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "bca4727b-9268-4f48-87bc-d26923b57ff4", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 39, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T13:24:07.367072", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "29c3519b-4065-4548-b46a-3409a2f9f661", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 38, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T14:29:50.582677", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "f927b73f-d476-4fac-a537-013509caf695", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 38, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: AttributeError(\"'sessionmaker' object has no attribute 'add'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T14:31:12.827163", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "ba3a9651-af2a-4c12-a4ea-2add98988510", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 40, in CreatePartnerMerchant\n    session.add(merchant)\nAttributeError: 'sessionmaker' object has no attribute 'add'\n"}
{"message": "Error in call to CreatePartnerMerchant: IntegrityError('(psycopg2.errors.NotNullViolation) null value in column \"updated_at\" violates not-null constraint\\nDETAIL:  Failing row contains (2020-06-05 14:48:22.289855+01, null, null, 1, greggs).\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T14:48:22.439905", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "cb32eda4-8049-4e69-b3f0-af5b4b46e521", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.NotNullViolation: null value in column \"updated_at\" violates not-null constraint\nDETAIL:  Failing row contains (2020-06-05 14:48:22.289855+01, null, null, 1, greggs).\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 41, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column \"updated_at\" violates not-null constraint\nDETAIL:  Failing row contains (2020-06-05 14:48:22.289855+01, null, null, 1, greggs).\n\n[SQL: INSERT INTO merchants (deleted_at, updated_at, name) VALUES (%(deleted_at)s, %(updated_at)s, %(name)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'updated_at': None, 'name': 'greggs'}]\n(Background on this error at: http://sqlalche.me/e/gkpj)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T15:43:27.844812", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "fa36d9d0-e674-4fca-8f61-a9e16d087d25", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 36, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: AttributeError(\"type object 'Merchant' has no attribute 'query'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T16:05:33.163038", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "6520b686-9721-4b95-827b-9fc9fbcdf722", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 45, in CreatePartnerMerchant\n    merchant = Merchant.query.filter_by(name=partner_merchant.name).first()\nAttributeError: type object 'Merchant' has no attribute 'query'\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T16:19:29.752408", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "20b2e5df-fc09-45ff-afc1-14b2b7a5e011", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 36, in CreatePartnerMerchant\n    session = self.Session()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T23:08:36.855862", "request": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "rollbar_uuid": "afa29d96-c8ba-4b84-9633-736ec5f88f3f", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs)\n  File \"./impl/__init__.py\", line 36, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tsector VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: AttributeError(\"'dict' object has no attribute 'partnerMerchant'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-05T23:27:26.591342", "request": {"raw": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "dict": {"partnerMerchant": {"name": "greggs", "sector": "food"}}}, "rollbar_uuid": "74ff0e98-8737-4c8a-b771-f1da7ca201f3", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, request_dict=request_dict)\n  File \"./impl/__init__.py\", line 40, in CreatePartnerMerchant\n    merchant = Merchant(**request_dict.partnerMerchant)\nAttributeError: 'dict' object has no attribute 'partnerMerchant'\n"}
{"message": "Error in call to CreateGeneralMerchant: IntegrityError('(psycopg2.errors.NotNullViolation) null value in column \"name\" violates not-null constraint\\nDETAIL:  Failing row contains (2020-06-06 22:46:15.700975+01, null, 2020-06-06 22:46:15.700975+01, 3, null, null).\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T22:46:15.849320", "request": {"raw": "partnerMerchant {\n}\ngeneralMerchant {\n}\n", "optional_request_dict": {"partnerMerchant": {}, "generalMerchant": {}}}, "rollbar_uuid": "3b978948-7e65-4deb-9ebf-4372afabbb26", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.NotNullViolation: null value in column \"name\" violates not-null constraint\nDETAIL:  Failing row contains (2020-06-06 22:46:15.700975+01, null, 2020-06-06 22:46:15.700975+01, 3, null, null).\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 33, in CreateGeneralMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column \"name\" violates not-null constraint\nDETAIL:  Failing row contains (2020-06-06 22:46:15.700975+01, null, 2020-06-06 22:46:15.700975+01, 3, null, null).\n\n[SQL: INSERT INTO merchants (deleted_at, name, sector) VALUES (%(deleted_at)s, %(name)s, %(sector)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'name': None, 'sector': None}]\n(Background on this error at: http://sqlalche.me/e/gkpj)\n"}
{"message": "Error in call to CreateGeneralMerchant: IntegrityError('(psycopg2.errors.NotNullViolation) null value in column \"name\" violates not-null constraint\\nDETAIL:  Failing row contains (2020-06-06 22:53:32.52846+01, null, 2020-06-06 22:53:32.52846+01, 4, null, null).\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T22:53:32.647150", "request": {"raw": "partnerMerchant {\n}\ngeneralMerchant {\n}\n", "optional_request_dict": {"partnerMerchant": {}, "generalMerchant": {}}}, "rollbar_uuid": "aa5da9fe-9dae-4bde-9bee-dfcff842c638", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.NotNullViolation: null value in column \"name\" violates not-null constraint\nDETAIL:  Failing row contains (2020-06-06 22:53:32.52846+01, null, 2020-06-06 22:53:32.52846+01, 4, null, null).\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 33, in CreateGeneralMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column \"name\" violates not-null constraint\nDETAIL:  Failing row contains (2020-06-06 22:53:32.52846+01, null, 2020-06-06 22:53:32.52846+01, 4, null, null).\n\n[SQL: INSERT INTO merchants (deleted_at, name, sector) VALUES (%(deleted_at)s, %(name)s, %(sector)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'name': None, 'sector': None}]\n(Background on this error at: http://sqlalche.me/e/gkpj)\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('DeclarativeMeta object argument after ** must be a mapping, not str')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T23:24:19.439100", "request": {"raw": "merchantID: \"23034\"\n", "optional_request_dict": {"merchantID": "23034"}}, "rollbar_uuid": "9253ac67-e324-4109-aebd-b3e6a0bf664d", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 57, in GetGeneralMerchant\n    merchant_id = Merchant(**optional_request_dict['merchantID'])\nTypeError: DeclarativeMeta object argument after ** must be a mapping, not str\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('DeclarativeMeta object argument after ** must be a mapping, not str')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T23:25:59.537416", "request": {"raw": "merchantID: \"23034\"\n", "optional_request_dict": {"merchantID": "23034"}}, "rollbar_uuid": "dc85266f-acb5-4448-a75a-93357b028a3d", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 57, in GetGeneralMerchant\n    merchant_id = Merchant(**optional_request_dict['merchantID'])\nTypeError: DeclarativeMeta object argument after ** must be a mapping, not str\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('DeclarativeMeta object argument after ** must be a mapping, not str')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T23:26:31.483942", "request": {"raw": "merchantID: \"23034\"\n", "optional_request_dict": {"merchantID": "23034"}}, "rollbar_uuid": "7e943358-d5b1-47dc-8e60-a57eb2180fe0", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 57, in GetGeneralMerchant\n    merchant_id = Merchant(**optional_request_dict['merchantID'])\nTypeError: DeclarativeMeta object argument after ** must be a mapping, not str\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('DeclarativeMeta object argument after ** must be a mapping, not str')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T23:26:55.581928", "request": {"raw": "merchantID: \"23034\"\n", "optional_request_dict": {"merchantID": "23034"}}, "rollbar_uuid": "03ae7999-9def-488c-8673-1e53dbdb2591", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 57, in GetGeneralMerchant\n    merchant_id = Merchant(**optional_request_dict['merchantID'])\nTypeError: DeclarativeMeta object argument after ** must be a mapping, not str\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('DeclarativeMeta object argument after ** must be a mapping, not str')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T23:27:15.907631", "request": {"raw": "merchantID: \"23034\"\n", "optional_request_dict": {"merchantID": "23034"}}, "rollbar_uuid": "69c325fd-030a-4109-adf3-241ae36162c5", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 57, in GetGeneralMerchant\n    merchant_id = Merchant(**optional_request_dict['merchantID'])\nTypeError: DeclarativeMeta object argument after ** must be a mapping, not str\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('DeclarativeMeta object argument after ** must be a mapping, not str')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T23:29:33.177896", "request": {"raw": "merchantID: \"23034\"\n", "optional_request_dict": {"merchantID": "23034"}}, "rollbar_uuid": "fba55f79-0804-4647-bf16-3716d2a114db", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 57, in GetGeneralMerchant\n    merchant_id = Merchant(**optional_request_dict['merchantID'])\nTypeError: DeclarativeMeta object argument after ** must be a mapping, not str\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('DeclarativeMeta object argument after ** must be a mapping, not str')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T23:32:57.330704", "request": {"raw": "merchantID: \"23034\"\n", "optional_request_dict": {"merchantID": "23034"}}, "rollbar_uuid": "b7ba4af6-9da1-40e0-97ba-c0a4828c9787", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 57, in GetGeneralMerchant\n    merchant_id = Merchant(**optional_request_dict['merchantID'])\nTypeError: DeclarativeMeta object argument after ** must be a mapping, not str\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('DeclarativeMeta object argument after ** must be a mapping, not str')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T23:35:17.685993", "request": {"raw": "merchantID: \"23034\"\n", "optional_request_dict": {"merchantID": "23034"}}, "rollbar_uuid": "d4207911-171b-485e-9b9b-5f7e88ed7145", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 57, in GetGeneralMerchant\n    merchant_id = Merchant(**optional_request_dict['merchantID'])\nTypeError: DeclarativeMeta object argument after ** must be a mapping, not str\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('DeclarativeMeta object argument after ** must be a mapping, not str')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T23:42:06.839700", "request": {"raw": "merchantID: \"23034\"\n", "optional_request_dict": {"merchantID": "23034"}}, "rollbar_uuid": "e721be72-35de-45d7-b816-074bdb2b9151", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 57, in GetGeneralMerchant\n    merchant_id = Merchant(**optional_request_dict['merchantID'])\nTypeError: DeclarativeMeta object argument after ** must be a mapping, not str\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('DeclarativeMeta object argument after ** must be a mapping, not str')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T23:45:29.820859", "request": {"raw": "merchantID: \"23034\"\n", "optional_request_dict": {"merchantID": "23034"}}, "rollbar_uuid": "90a49d54-4ef1-4027-bc8c-058ac2dc0f22", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 57, in GetGeneralMerchant\n    merchant_id = Merchant(**optional_request_dict['merchantID'])\nTypeError: DeclarativeMeta object argument after ** must be a mapping, not str\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('DeclarativeMeta object argument after ** must be a mapping, not str')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T23:52:56.404806", "request": {"raw": "merchantID: \"23034\"\n", "optional_request_dict": {"merchantID": "23034"}}, "rollbar_uuid": "85e5c48d-3975-4b8c-a3e2-37a89b752e1d", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 57, in GetGeneralMerchant\n    merchant_id = Merchant(**(optional_request_dict['merchantID']))\nTypeError: DeclarativeMeta object argument after ** must be a mapping, not str\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got NoneType.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-06T23:55:20.213108", "request": {"raw": "merchantID: \"23034\"\n", "optional_request_dict": {"merchantID": "23034"}}, "rollbar_uuid": "53a152c6-611a-4be1-832a-3fcaa0c7c254", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/__init__.py\", line 61, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=[merchant], executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got NoneType.\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T00:40:20.567547", "request": {"raw": "partnerMerchant {\n  name: \"webuyanycar\"\n  sector: \"cars\"\n}\n", "optional_request_dict": {"partnerMerchant": {"name": "webuyanycar", "sector": "cars"}}}, "rollbar_uuid": "92aebf4d-0d8a-4b4d-ae0e-e86840f3d4e8", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 40, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tid SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tsector VARCHAR NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Value must be iterable')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T00:46:24.821850", "request": {"raw": "merchantID: \"5\"\n", "optional_request_dict": {"merchantID": "5"}}, "rollbar_uuid": "a661df79-dcc5-450e-b32b-2857788aaa36", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 61, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Value must be iterable\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T00:49:11.086237", "request": {"raw": "merchantID: \"5\"\n", "optional_request_dict": {"merchantID": "5"}}, "rollbar_uuid": "2b65f59b-e27d-4bcf-89d5-7534b2def9c4", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 62, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T00:49:46.767328", "request": {"raw": "merchantID: \"5\"\n", "optional_request_dict": {"merchantID": "5"}}, "rollbar_uuid": "e267b924-c3a5-47d9-8eac-7da193350206", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 62, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T00:52:02.334236", "request": {"raw": "merchantID: \"5\"\n", "optional_request_dict": {"merchantID": "5"}}, "rollbar_uuid": "ad7bb6ff-b819-4ada-884d-8d44fe16d8ec", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 62, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T00:52:15.116534", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "ef3a0723-5705-45cc-996e-5c1bacfc5897", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 62, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to CreatePartnerMerchant: IntegrityError('(psycopg2.errors.NotNullViolation) null value in column \"id\" violates not-null constraint\\nDETAIL:  Failing row contains (null, 2020-06-07 00:56:40.218632+01, null, 2020-06-07 00:56:40.218632+01, null, greggs, food).\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T00:56:40.347894", "request": {"raw": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "optional_request_dict": {"partnerMerchant": {"name": "greggs", "sector": "food"}}}, "rollbar_uuid": "dc1971ef-938f-452d-aa97-06bb4e7a0ba5", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.NotNullViolation: null value in column \"id\" violates not-null constraint\nDETAIL:  Failing row contains (null, 2020-06-07 00:56:40.218632+01, null, 2020-06-07 00:56:40.218632+01, null, greggs, food).\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 46, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column \"id\" violates not-null constraint\nDETAIL:  Failing row contains (null, 2020-06-07 00:56:40.218632+01, null, 2020-06-07 00:56:40.218632+01, null, greggs, food).\n\n[SQL: INSERT INTO merchants (deleted_at, name, sector) VALUES (%(deleted_at)s, %(name)s, %(sector)s)]\n[parameters: {'deleted_at': None, 'name': 'greggs', 'sector': 'food'}]\n(Background on this error at: http://sqlalche.me/e/gkpj)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:00:30.012962", "request": {"raw": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "optional_request_dict": {"partnerMerchant": {"name": "greggs", "sector": "food"}}}, "rollbar_uuid": "e009c75b-f4ce-4743-9b4a-ab10a94bd86f", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 40, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tid INTEGER NOT NULL, \n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\t\"merchantID\" SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tsector VARCHAR NOT NULL, \n\tPRIMARY KEY (\"merchantID\", id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: IntegrityError('(psycopg2.errors.NotNullViolation) null value in column \"id\" violates not-null constraint\\nDETAIL:  Failing row contains (null, 2020-06-07 01:00:48.759025+01, null, 2020-06-07 01:00:48.759025+01, 1, greggs, food).\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:00:48.869944", "request": {"raw": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "optional_request_dict": {"partnerMerchant": {"name": "greggs", "sector": "food"}}}, "rollbar_uuid": "5947812d-a7bf-497d-a835-1cdc46077975", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.NotNullViolation: null value in column \"id\" violates not-null constraint\nDETAIL:  Failing row contains (null, 2020-06-07 01:00:48.759025+01, null, 2020-06-07 01:00:48.759025+01, 1, greggs, food).\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 46, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column \"id\" violates not-null constraint\nDETAIL:  Failing row contains (null, 2020-06-07 01:00:48.759025+01, null, 2020-06-07 01:00:48.759025+01, 1, greggs, food).\n\n[SQL: INSERT INTO merchants (deleted_at, name, sector) VALUES (%(deleted_at)s, %(name)s, %(sector)s) RETURNING merchants.\"merchantID\"]\n[parameters: {'deleted_at': None, 'name': 'greggs', 'sector': 'food'}]\n(Background on this error at: http://sqlalche.me/e/gkpj)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:01:08.528324", "request": {"raw": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "optional_request_dict": {"partnerMerchant": {"name": "greggs", "sector": "food"}}}, "rollbar_uuid": "84beef87-d0b2-4733-924d-f0b023c476aa", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 40, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tid INTEGER NOT NULL, \n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\t\"merchantID\" SERIAL NOT NULL, \n\tname VARCHAR NOT NULL, \n\tsector VARCHAR NOT NULL, \n\tPRIMARY KEY (\"merchantID\", id)\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to CreatePartnerMerchant: IntegrityError('(psycopg2.errors.NotNullViolation) null value in column \"id\" violates not-null constraint\\nDETAIL:  Failing row contains (null, 2020-06-07 01:01:24.546545+01, null, 2020-06-07 01:01:24.546545+01, 1, greggs, food).\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:01:24.679480", "request": {"raw": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "optional_request_dict": {"partnerMerchant": {"name": "greggs", "sector": "food"}}}, "rollbar_uuid": "ce98e15e-a358-4a2a-9696-b357adc1889e", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.NotNullViolation: null value in column \"id\" violates not-null constraint\nDETAIL:  Failing row contains (null, 2020-06-07 01:01:24.546545+01, null, 2020-06-07 01:01:24.546545+01, 1, greggs, food).\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 46, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column \"id\" violates not-null constraint\nDETAIL:  Failing row contains (null, 2020-06-07 01:01:24.546545+01, null, 2020-06-07 01:01:24.546545+01, 1, greggs, food).\n\n[SQL: INSERT INTO merchants (deleted_at, name, sector) VALUES (%(deleted_at)s, %(name)s, %(sector)s) RETURNING merchants.\"merchantID\"]\n[parameters: {'deleted_at': None, 'name': 'greggs', 'sector': 'food'}]\n(Background on this error at: http://sqlalche.me/e/gkpj)\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:26:34.125122", "request": {"raw": "partnerMerchant {\n  name: \"greggs\"\n  sector: \"food\"\n}\n", "optional_request_dict": {"partnerMerchant": {"name": "greggs", "sector": "food"}}}, "rollbar_uuid": "406262a6-18f5-4a37-8a97-e67e81444383", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 40, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tname VARCHAR NOT NULL, \n\tsector VARCHAR NOT NULL, \n\t\"merchantID\" SERIAL NOT NULL, \n\tPRIMARY KEY (\"merchantID\")\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:30:32.242292", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "4d6362df-114c-4702-9c9e-72509c73da0e", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 62, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got NoneType.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:30:35.785918", "request": {"raw": "merchantID: \"4\"\n", "optional_request_dict": {"merchantID": "4"}}, "rollbar_uuid": "23dabca1-01f3-46ee-b1e0-03d3af2009a2", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 62, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got NoneType.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got NoneType.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:31:12.331452", "request": {"raw": "merchantID: \"4\"\n", "optional_request_dict": {"merchantID": "4"}}, "rollbar_uuid": "4ebbaaf6-d83f-45e7-991f-8826c1f5ed27", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 62, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got NoneType.\n"}
{"message": "Error in call to GetGeneralMerchant: InvalidRequestError(\"Entity '<class 'service.lib.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:40:42.362223", "request": {"raw": "merchantID: \"4\"\n", "optional_request_dict": {"merchantID": "4"}}, "rollbar_uuid": "19dfafa4-1a75-46cc-9acc-4177063dec8d", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 406, in _entity_descriptor\n    return getattr(entity, key)\nAttributeError: type object 'Merchant' has no attribute 'merchantID'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 56, in GetGeneralMerchant\n    merchant = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in filter_by\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in <listcomp>\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 412, in _entity_descriptor\n    replace_context=err,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\nsqlalchemy.exc.InvalidRequestError: Entity '<class 'service.lib.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got list.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:42:35.504173", "request": {"raw": "merchantID: \"4\"\n", "optional_request_dict": {"merchantID": "4"}}, "rollbar_uuid": "bdb8557c-129a-4fd1-a772-4ccd9ce3f6ab", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 58, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got list.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:43:49.952340", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "100994f4-2752-4c74-ade3-1481d714363e", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 57, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: AttributeError(\"'Merchant' object has no attribute 'id'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:45:26.127102", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "e65ac0b2-1771-4efb-b76a-a56482b87907", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 57, in GetGeneralMerchant\n    print(merchants)\n  File \"/Users/noah/Otis/backend/service/lib/psql/schemas/merchant.py\", line 27, in __repr__\n    return \"<Merchant(id='%s', name='%s')>\" % (self.id, self.name)\nAttributeError: 'Merchant' object has no attribute 'id'\n"}
{"message": "Error in call to GetGeneralMerchant: AttributeError(\"'Merchant' object has no attribute 'id'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:45:43.691021", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "5c72185f-5686-47ad-b98f-e6f6d24e3c36", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 57, in GetGeneralMerchant\n    print(merchants)\n  File \"/Users/noah/Otis/backend/service/lib/psql/schemas/merchant.py\", line 27, in __repr__\n    return \"<Merchant(id='%s', name='%s')>\" % (self.id, self.name)\nAttributeError: 'Merchant' object has no attribute 'id'\n"}
{"message": "Error in call to GetGeneralMerchant: AttributeError(\"'Merchant' object has no attribute 'id'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:48:19.308239", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "81d4fe53-eca8-4415-9c6b-f38b35e7bb1f", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 57, in GetGeneralMerchant\n    print(merchants)\n  File \"/Users/noah/Otis/backend/service/lib/psql/schemas/merchant.py\", line 27, in __repr__\n    return \"<Merchant(id='%s', name='%s')>\" % (self.id, self.name)\nAttributeError: 'Merchant' object has no attribute 'id'\n"}
{"message": "Error in call to GetGeneralMerchant: AttributeError(\"'Merchant' object has no attribute 'id'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:49:18.413341", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "05c1da78-c073-4baa-8ade-6890e5733d57", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 57, in GetGeneralMerchant\n    print(merchants)\n  File \"/Users/noah/Otis/backend/service/lib/psql/schemas/merchant.py\", line 27, in __repr__\n    return \"<Merchant(merchantID='%s', name='%s'...)>\" % (self.id, self.name)\nAttributeError: 'Merchant' object has no attribute 'id'\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:49:44.031590", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "3b098964-ee5e-4b1b-b9ff-4b4f659b7a96", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 58, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:50:40.007605", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "84164464-1597-4fb1-a4d4-31181e919322", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 58, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:50:49.314722", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "bda7aadd-a616-4a0d-975a-fa9222cccd25", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 58, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got list.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T01:52:11.047967", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "924baaba-a564-402a-ab3b-363f7dd68c3c", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 58, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=[merchants], executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got list.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T02:00:45.069337", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "e687e03a-f453-4181-8db9-57623786e1df", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 60, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T02:03:35.777263", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "34feae20-26e2-4864-a1d0-c4cc890b2063", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 60, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T02:04:38.578364", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "01b41c2f-084c-4557-a5f9-b010a3420057", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 60, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetPartnerMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T02:05:03.548515", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "fe791aae-082e-45b3-8ea1-5db37882a46b", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 71, in GetPartnerMerchant\n    return merchant_service_pb2.MerchantsResponse(partnerMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.\n"}
{"message": "Error in call to GetPartnerMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T02:05:31.603101", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "49abd997-c569-4e3f-a8dc-a252f83ba8e8", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 71, in GetPartnerMerchant\n    return merchant_service_pb2.MerchantsResponse(partnerMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T02:14:51.075100", "request": {"raw": "partnerMerchant {\n  name: \"gregories\"\n  sector: \"food\"\n}\n", "optional_request_dict": {"partnerMerchant": {"name": "gregories", "sector": "food"}}}, "rollbar_uuid": "a4bb425d-48a7-4db9-a65f-d98bafbb3fc6", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"merchants\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 41, in CreatePartnerMerchant\n    Merchant.metadata.create_all(self.db_engine, checkfirst=False)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/schema.py\", line 4465, in create_all\n    ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 2104, in _run_visitor\n    conn._run_visitor(visitorcallable, element, **kwargs)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1663, in _run_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 787, in visit_metadata\n    _is_metadata_operation=True,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/visitors.py\", line 144, in traverse_single\n    return meth(obj, **kw)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 832, in visit_table\n    include_foreign_key_constraints,  # noqa\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/ddl.py\", line 72, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1082, in _execute_ddl\n    compiled,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"merchants\" already exists\n\n[SQL: \nCREATE TABLE merchants (\n\tcreated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tdeleted_at TIMESTAMP WITH TIME ZONE, \n\tupdated_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, \n\tname VARCHAR NOT NULL, \n\tsector VARCHAR NOT NULL, \n\t\"merchantID\" SERIAL NOT NULL, \n\tPRIMARY KEY (\"merchantID\")\n)\n\n]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to GetPartnerMerchant: InvalidRequestError(\"Entity '<class 'service.lib.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T02:17:14.582368", "request": {"raw": "merchantID: \"8\"\n", "optional_request_dict": {"merchantID": "8"}}, "rollbar_uuid": "186f5f3f-9a2e-450d-a1c7-0593008c99f6", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 406, in _entity_descriptor\n    return getattr(entity, key)\nAttributeError: type object 'Merchant' has no attribute 'merchantID'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 69, in GetPartnerMerchant\n    merchants = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in filter_by\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in <listcomp>\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 412, in _entity_descriptor\n    replace_context=err,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\nsqlalchemy.exc.InvalidRequestError: Entity '<class 'service.lib.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\n"}
{"message": "Error in call to GetPartnerMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T02:22:06.096729", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "db3b4d6f-6efb-46e1-88ee-fd1ede0240a7", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 71, in GetPartnerMerchant\n    return merchant_service_pb2.MerchantsResponse(partnerMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.\n"}
{"message": "Error in call to GetPartnerMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T02:22:15.447918", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "e161f261-c2eb-48f5-9dda-b69448b5b05a", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 71, in GetPartnerMerchant\n    return merchant_service_pb2.MerchantsResponse(partnerMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.\n"}
{"message": "Error in call to CreatePartnerMerchant: IntegrityError('(psycopg2.errors.NotNullViolation) null value in column \"street_adress\" violates not-null constraint\\nDETAIL:  Failing row contains (2020-06-07 02:48:02.979708+01, null, 2020-06-07 02:48:02.979708+01, null, null, GB, null, gregories, food, 1).\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T02:48:03.123741", "request": {"raw": "partnerMerchant {\n  name: \"gregories\"\n  sector: \"food\"\n}\n", "optional_request_dict": {"partnerMerchant": {"name": "gregories", "sector": "food"}}}, "rollbar_uuid": "d36ac731-1a8b-4579-8265-8ed0d84bdbbf", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.NotNullViolation: null value in column \"street_adress\" violates not-null constraint\nDETAIL:  Failing row contains (2020-06-07 02:48:02.979708+01, null, 2020-06-07 02:48:02.979708+01, null, null, GB, null, gregories, food, 1).\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 47, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column \"street_adress\" violates not-null constraint\nDETAIL:  Failing row contains (2020-06-07 02:48:02.979708+01, null, 2020-06-07 02:48:02.979708+01, null, null, GB, null, gregories, food, 1).\n\n[SQL: INSERT INTO merchants (deleted_at, street_adress, city, country, postcode, name, sector) VALUES (%(deleted_at)s, %(street_adress)s, %(city)s, %(country)s, %(postcode)s, %(name)s, %(sector)s) RETURNING merchants.\"merchantID\"]\n[parameters: {'deleted_at': None, 'street_adress': None, 'city': None, 'country': 'GB', 'postcode': None, 'name': 'gregories', 'sector': 'food'}]\n(Background on this error at: http://sqlalche.me/e/gkpj)\n"}
{"message": "Error in call to GetPartnerMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T03:01:11.204905", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "160e2cd4-aff5-44be-bd43-0ddc9012f92a", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/lib/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"./impl/impl.py\", line 71, in GetPartnerMerchant\n    return merchant_service_pb2.MerchantsResponse(partnerMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.\n"}
{"message": "Error in call to CreatePartnerMerchant: ProgrammingError('(psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\\nLINE 1: INSERT INTO merchants (deleted_at, street_address, city, cou...\\n                    ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T19:41:52.753142", "request": {"raw": "partnerMerchant {\n  name: \"webuyanycar\"\n  sector: \"cars\"\n}\n", "optional_request_dict": {"partnerMerchant": {"name": "webuyanycar", "sector": "cars"}}}, "rollbar_uuid": "870106b0-6d33-4ef1-9e4a-19869fd31d7a", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedTable: relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, street_address, city, cou...\n                    ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 47, in CreatePartnerMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, street_address, city, cou...\n                    ^\n\n[SQL: INSERT INTO merchants (deleted_at, street_address, city, country, postcode, name, sector) VALUES (%(deleted_at)s, %(street_address)s, %(city)s, %(country)s, %(postcode)s, %(name)s, %(sector)s) RETURNING merchants.\"merchantID\"]\n[parameters: {'deleted_at': None, 'street_address': None, 'city': None, 'country': None, 'postcode': None, 'name': 'webuyanycar', 'sector': 'cars'}]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to GetPartnerMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T19:44:40.863520", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "78f754b5-107e-4eb6-9f0b-5b731edc9b09", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 71, in GetPartnerMerchant\n    return merchant_service_pb2.MerchantsResponse(partnerMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.\n"}
{"message": "Error in call to GetPartnerMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T19:44:53.673869", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "b9708404-cb4f-404f-bf2b-7d3d591ed182", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 71, in GetPartnerMerchant\n    return merchant_service_pb2.MerchantsResponse(partnerMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected partnermerchant.PartnerMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T19:45:25.296204", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "4dc79fe3-d5f3-4b97-9712-6d32644a390b", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T19:45:33.148651", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "580083db-c913-4156-8382-294d0723cde1", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-07T23:36:30.328740", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "f0da7b9f-3b3f-4369-95c8-948a54e0a5b3", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    return merchant_service_pb2.MerchantsResponse(generalMerchants=merchants, executed=True)\nTypeError: Parameter to MergeFrom() must be instance of same class: expected generalmerchant.GeneralMerchant got Merchant.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"'Merchant' object is not iterable\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T00:03:30.502861", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "547b2adc-88b9-4fb2-9404-56c7d9c6c45c", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 20, in get_merchants_response_from_orm_merchants\n    orm_merchant_dict = dict(orm_merchant)\nTypeError: 'Merchant' object is not iterable\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"'Merchant' object is not iterable\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T00:06:56.538961", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "23e1f18e-211b-4db4-8340-91a8f6945df7", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 20, in get_merchants_response_from_orm_merchants\n    orm_merchant_dict = dict(orm_merchant)\nTypeError: 'Merchant' object is not iterable\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"'Merchant' object is not iterable\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T00:07:49.563142", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "6b4f675f-8490-49d1-a4dd-94b709e11bda", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 21, in get_merchants_response_from_orm_merchants\n    orm_merchant_dict = dict(orm_merchant)\nTypeError: 'Merchant' object is not iterable\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"'Merchant' object is not iterable\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T00:08:34.519679", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "d0d4a886-d6a9-485c-a0e9-8aaef4896a8e", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 21, in get_merchants_response_from_orm_merchants\n    orm_merchant_dict = dict(orm_merchant)\nTypeError: 'Merchant' object is not iterable\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T00:20:53.849208", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "1aafad3e-8018-48d1-a462-7477772b504d", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"_sa_instance_state\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T00:22:45.166263", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "052f41ec-258b-446a-8816-3fc663194601", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"_sa_instance_state\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T00:41:28.369399", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "f31408b8-dd0c-40be-afc0-3e179384d75a", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T00:42:15.732407", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "dc807a3e-8865-4579-bbd3-22856350a3f4", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: AttributeError(\"'NoneType' object has no attribute 'strftime'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T00:48:15.240512", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "d84ba439-1351-493a-9185-fa8efe0fec43", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 20, in get_merchants_response_from_orm_merchants\n    orm_merchant_dict = orm_merchant.to_dict()\n  File \"/Users/noah/Otis/backend/lib/service/psql/schemas/merchant.py\", line 37, in to_dict\n    'deleted_at': self.deleted_at.strftime('%c'),\nAttributeError: 'NoneType' object has no attribute 'strftime'\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('getattr() takes no keyword arguments')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T01:17:24.732992", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "146897c2-c540-4f83-807c-2211960f0708", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 20, in get_merchants_response_from_orm_merchants\n    orm_merchant_dict = orm_merchant.to_dict()\n  File \"/Users/noah/Otis/backend/lib/service/psql/schemas/merchant.py\", line 34, in to_dict\n    created_at = get_date_as_string_if_not_null_or_empty(obj=self, property='created_at', null=default)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/common.py\", line 21, in get_date_as_string_if_not_null_or_empty\n    value = getattr(obj, property, defaut=null)\nTypeError: getattr() takes no keyword arguments\n"}
{"message": "Error in call to GetGeneralMerchant: AttributeError(\"'datetime.datetime' object has no attribute 'strip'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T01:21:26.707393", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "e6d90a54-c597-4afb-b8a4-dc0e062aef31", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 20, in get_merchants_response_from_orm_merchants\n    orm_merchant_dict = orm_merchant.to_dict()\n  File \"/Users/noah/Otis/backend/lib/service/psql/schemas/merchant.py\", line 34, in to_dict\n    created_at = get_date_as_string_if_not_null_or_empty(obj=self, property='created_at', null=default)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/common.py\", line 22, in get_date_as_string_if_not_null_or_empty\n    if (not value) or (not value.strip()) or (value == null):\nAttributeError: 'datetime.datetime' object has no attribute 'strip'\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T01:23:55.030794", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "b6344846-554a-43f9-a74a-4d2f281a5c24", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T01:28:22.065596", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "b36959a7-4880-4cba-8a56-aa3affecc8f2", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T01:29:54.609619", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "eafc1f41-3f98-43f1-8f9a-d3decb9fd29f", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T01:36:38.439624", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "2386db6e-3e95-49dd-9752-28d375be4c74", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"argument of type 'Merchant' is not iterable\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T02:16:56.616217", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "a015b13d-37ad-4d2f-9704-bbad74cf89fc", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 20, in get_merchants_response_from_orm_merchants\n    orm_merchant_dict = orm_merchant.to_dict()\n  File \"/Users/noah/Otis/backend/lib/service/psql/schemas/merchant.py\", line 30, in to_dict\n    default = self.default_null if 'default_null' in self else 'Null'\nTypeError: argument of type 'Merchant' is not iterable\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T02:18:58.764530", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "539568e5-0161-4490-a50a-b22ae8134936", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T02:25:26.829200", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "5154301f-443b-4140-b3b9-4d83dedeb268", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T02:32:56.750224", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "3d54a639-68aa-44f6-ace1-b4eef7447291", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('isinstance() arg 2 must be a type or tuple of types')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T02:35:28.384073", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "e540a619-396a-4e66-a645-91e59aca9b03", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 20, in get_merchants_response_from_orm_merchants\n    orm_merchant_dict = orm_merchant.to_dict()\n  File \"/Users/noah/Otis/backend/lib/service/psql/schemas/merchant.py\", line 33, in to_dict\n    'merchantID': try_get_property_or_default_null(self, 'merchantID', default),\n  File \"/Users/noah/Otis/backend/lib/service/prototools/common.py\", line 23, in try_get_property_or_default_null\n    return default_null if not isinstance(value, None) else value\nTypeError: isinstance() arg 2 must be a type or tuple of types\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T02:36:31.563525", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "591d02b4-9dbf-42e5-abdc-b4f076fae460", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T02:41:48.881662", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "eea6ea13-4f88-43cf-9703-169a907fd7aa", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: InvalidRequestError(\"Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T02:50:42.146492", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "133131d5-5741-43d3-9992-e094251074ee", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 406, in _entity_descriptor\n    return getattr(entity, key)\nAttributeError: type object 'Merchant' has no attribute 'merchantID'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    merchants = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in filter_by\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in <listcomp>\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 412, in _entity_descriptor\n    replace_context=err,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\nsqlalchemy.exc.InvalidRequestError: Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T02:53:38.145431", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "53a643af-1fdc-44d4-8b5e-4bd8aeb9b20b", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:04:48.016645", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "977b8ab5-6c94-4fb8-9a7f-d385afc87fb3", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:12:12.512356", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "2ecf8606-ddac-4b9e-85e6-7b1e3236df7c", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:13:06.496007", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "48c65266-91c4-41cc-ba5c-15671849c210", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:13:41.954528", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "60e9257c-1903-4cd4-81bd-cb732a168dbb", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:15:28.134425", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "39dd0703-12a6-49e3-803a-f15290130393", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:16:15.048193", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "f3a3e47d-d92b-4c2e-bb24-a04297b6f326", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:18:03.193664", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "d03569ff-bd58-4e81-9df2-d8374a0c110f", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:20:00.966108", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "8fd14735-79cf-45d2-9fa5-a210e7fd17e9", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:22:32.568809", "request": {"raw": "merchantID: \"1\"\n", "optional_request_dict": {"merchantID": "1"}}, "rollbar_uuid": "960edbd8-35cb-44d0-b689-c26d51851c06", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:22:57.442647", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "b68f64f9-c2ce-4801-9a6e-a8bd0fd7a2a6", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 17, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:33:10.272349", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "b1a52df6-ed14-4b30-86e0-aa291ba2c98b", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 63, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:33:58.863352", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "ada18322-805c-434a-860f-beaa54d159f6", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:34:29.879959", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "2e81e552-079c-4cc1-b830-dc4f41901c1d", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 64, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:35:29.222684", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "134089ce-977e-4317-aed7-797fd8cc42ae", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 63, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:36:06.744907", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "e59fd85c-f02f-4b76-bbbb-458a13fdaaae", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 63, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:39:20.166392", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "b6e938b9-27e5-4715-b2ef-893cf677d1cf", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 63, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:39:56.757643", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "9757f93c-87d7-48b2-a713-f9e3061a0ac3", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 63, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:40:35.546534", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "8a9ed285-84e5-412f-89ef-94ff6bd087cb", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 63, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:41:12.568236", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "719bb7df-5023-40ab-8b83-281aed56ba8e", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 63, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"get_merchants_response_from_orm_merchants() missing 1 required positional argument: 'orm_merchants'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:44:55.615264", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "b1948899-7775-4159-b592-910843c67b32", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 63, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants()\nTypeError: get_merchants_response_from_orm_merchants() missing 1 required positional argument: 'orm_merchants'\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:46:22.643202", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "57e8630d-731f-48a6-a886-e24beac9b11e", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T03:47:48.849793", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "31682153-1ed9-4b60-a0e8-a2fcaa6e25d8", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T10:38:43.225220", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "84321ae9-87bb-4be3-862a-15498a7ff74c", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T11:09:27.151267", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "9b5cf4c5-2ec1-43c4-9087-6007bea6cd84", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"merchantID\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T11:10:13.630132", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "648e7b11-b7c1-4d42-9a9f-9793f2329c6a", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"merchantID\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: InvalidRequestError(\"Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T11:29:30.553538", "request": {"raw": "merchantID: \"8\"\n", "optional_request_dict": {"merchantID": "8"}}, "rollbar_uuid": "28194737-8c9f-4363-bcc4-3cb507f08f04", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 406, in _entity_descriptor\n    return getattr(entity, key)\nAttributeError: type object 'Merchant' has no attribute 'merchantID'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    merchants = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in filter_by\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in <listcomp>\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 412, in _entity_descriptor\n    replace_context=err,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\nsqlalchemy.exc.InvalidRequestError: Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\n"}
{"message": "Error in call to GetGeneralMerchant: InvalidRequestError(\"Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T11:35:27.662704", "request": {"raw": "merchantID: \"8\"\n", "optional_request_dict": {"merchantID": "8"}}, "rollbar_uuid": "af488230-b8d2-4dfc-bcbf-bb1323bc6a30", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 406, in _entity_descriptor\n    return getattr(entity, key)\nAttributeError: type object 'Merchant' has no attribute 'merchantID'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    merchants = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in filter_by\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in <listcomp>\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 412, in _entity_descriptor\n    replace_context=err,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\nsqlalchemy.exc.InvalidRequestError: Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\n"}
{"message": "Error in call to GetGeneralMerchant: InvalidRequestError(\"Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T11:35:44.171094", "request": {"raw": "merchantID: \"8\"\n", "optional_request_dict": {"merchantID": "8"}}, "rollbar_uuid": "d289e624-4c08-4ee2-b010-70464efb3d99", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 406, in _entity_descriptor\n    return getattr(entity, key)\nAttributeError: type object 'Merchant' has no attribute 'merchantID'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    merchants = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in filter_by\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in <listcomp>\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 412, in _entity_descriptor\n    replace_context=err,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\nsqlalchemy.exc.InvalidRequestError: Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\n"}
{"message": "Error in call to GetGeneralMerchant: InvalidRequestError(\"Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T11:36:58.063290", "request": {"raw": "merchantID: \"8\"\n", "optional_request_dict": {"merchantID": "8"}}, "rollbar_uuid": "441b597a-0961-4e02-a916-8d707f782d6a", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 406, in _entity_descriptor\n    return getattr(entity, key)\nAttributeError: type object 'Merchant' has no attribute 'merchantID'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    merchants = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in filter_by\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in <listcomp>\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 412, in _entity_descriptor\n    replace_context=err,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\nsqlalchemy.exc.InvalidRequestError: Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\n"}
{"message": "Error in call to GetGeneralMerchant: InvalidRequestError(\"Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T11:37:29.034691", "request": {"raw": "merchantID: \"8\"\n", "optional_request_dict": {"merchantID": "8"}}, "rollbar_uuid": "6ce9ff3f-dbb6-4740-be9b-f2ee28aadb0b", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 406, in _entity_descriptor\n    return getattr(entity, key)\nAttributeError: type object 'Merchant' has no attribute 'merchantID'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    merchants = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in filter_by\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in <listcomp>\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 412, in _entity_descriptor\n    replace_context=err,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\nsqlalchemy.exc.InvalidRequestError: Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\n"}
{"message": "Error in call to GetGeneralMerchant: InvalidRequestError(\"Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T11:42:13.247377", "request": {"raw": "merchantID: \"8\"\n", "optional_request_dict": {"merchantID": "8"}}, "rollbar_uuid": "6e137980-e229-4b4d-b5f0-524f8b710e36", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 406, in _entity_descriptor\n    return getattr(entity, key)\nAttributeError: type object 'Merchant' has no attribute 'merchantID'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    merchants = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in filter_by\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 1895, in <listcomp>\n    for key, value in kwargs.items()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/base.py\", line 412, in _entity_descriptor\n    replace_context=err,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\nsqlalchemy.exc.InvalidRequestError: Entity '<class 'lib.service.psql.schemas.merchant.Merchant'>' has no property 'merchantID'\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError('1 has type int, but expected one of: bytes, unicode')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T11:45:30.955982", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "3722dcde-ecb4-423d-bd6e-a8c65f5bf400", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nTypeError: 1 has type int, but expected one of: bytes, unicode\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"created_at\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T13:36:31.514259", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "42520743-bb47-4180-be6a-893a16b6354e", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"created_at\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"<bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T13:39:28.587492", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "50e951ce-d893-4a23-bf36-846378c1cbc0", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nTypeError: <bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"<bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T14:14:51.551111", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "6fdb2157-b4d0-4982-a0fc-0dcf2f03ddb4", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nTypeError: <bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"<bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T14:16:17.237580", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "39928dad-137f-4292-926d-47d917a84fc8", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nTypeError: <bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"<bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T14:16:43.997523", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "e873d7fb-3fc0-4c8c-b4d4-7ae0f665f01f", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nTypeError: <bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"'declared_attr' object is not callable\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T14:18:17.666051", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "10ede239-69b4-401c-a61d-7ef7d4bf0623", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 20, in get_merchants_response_from_orm_merchants\n    orm_merchant_dict = orm_merchant.to_dict()\n  File \"/Users/noah/Otis/backend/lib/service/psql/schemas/merchant.py\", line 31, in to_dict\n    print('HERE', self.postcode())\nTypeError: 'declared_attr' object is not callable\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"<bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T14:19:15.227516", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "3be9c9ec-1e0b-4c34-add0-4541a3742a57", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nTypeError: <bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"'declared_attr' object is not callable\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T14:26:19.047464", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "644dcc58-1e53-4cba-98bf-08591ed3c424", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 20, in get_merchants_response_from_orm_merchants\n    orm_merchant_dict = orm_merchant.to_dict()\n  File \"/Users/noah/Otis/backend/lib/service/psql/schemas/merchant.py\", line 31, in to_dict\n    print('HERE', self.postcode(), self.sector)\nTypeError: 'declared_attr' object is not callable\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"<bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T14:29:20.607011", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "d4e9d072-77f8-426e-91f2-50614e637a8c", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nTypeError: <bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"<bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T14:30:16.042985", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "b4440a87-a0ac-4789-b3a3-c4926973f592", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nTypeError: <bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"<bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T14:38:59.435702", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "974e3b17-6627-4ab3-b627-6c62f91c3924", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nTypeError: <bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\n"}
{"message": "Error in call to GetGeneralMerchant: ProgrammingError('(psycopg2.errors.UndefinedColumn) column merchants.city does not exist\\nLINE 1: ...hants_name, merchants.sector AS merchants_sector, merchants....\\n                                                             ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T14:39:57.084279", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "a7e09117-e7f5-4802-8ba6-ce6e17d07652", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedColumn: column merchants.city does not exist\nLINE 1: ...hants_name, merchants.sector AS merchants_sector, merchants....\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    merchants = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3319, in all\n    return list(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3481, in __iter__\n    return self._execute_and_instances(context)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3506, in _execute_and_instances\n    result = conn.execute(querycontext.statement, self._params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column merchants.city does not exist\nLINE 1: ...hants_name, merchants.sector AS merchants_sector, merchants....\n                                                             ^\n\n[SQL: SELECT merchants.created_at AS merchants_created_at, merchants.deleted_at AS merchants_deleted_at, merchants.updated_at AS merchants_updated_at, merchants.id AS merchants_id, merchants.name AS merchants_name, merchants.sector AS merchants_sector, merchants.city AS merchants_city \nFROM merchants]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to GetGeneralMerchant: ProgrammingError('(psycopg2.errors.UndefinedColumn) column merchants.city does not exist\\nLINE 1: ...hants_name, merchants.sector AS merchants_sector, merchants....\\n                                                             ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T14:40:50.909678", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "bb5117d6-3a2f-40eb-8a0f-2f347eac50c2", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedColumn: column merchants.city does not exist\nLINE 1: ...hants_name, merchants.sector AS merchants_sector, merchants....\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    merchants = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3319, in all\n    return list(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3481, in __iter__\n    return self._execute_and_instances(context)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3506, in _execute_and_instances\n    result = conn.execute(querycontext.statement, self._params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column merchants.city does not exist\nLINE 1: ...hants_name, merchants.sector AS merchants_sector, merchants....\n                                                             ^\n\n[SQL: SELECT merchants.created_at AS merchants_created_at, merchants.deleted_at AS merchants_deleted_at, merchants.updated_at AS merchants_updated_at, merchants.id AS merchants_id, merchants.name AS merchants_name, merchants.sector AS merchants_sector, merchants.city AS merchants_city \nFROM merchants]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"<bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T14:43:35.143267", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "babc0048-e143-4349-a193-9b3037867f48", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nTypeError: <bound method ? of <class 'lib.service.psql.schemas.merchant.Merchant'>> has type method, but expected one of: bytes, unicode\n"}
{"message": "Error in call to GetGeneralMerchant: ProgrammingError('(psycopg2.errors.UndefinedColumn) column merchants.city does not exist\\nLINE 1: ...hants_name, merchants.sector AS merchants_sector, merchants....\\n                                                             ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T14:44:20.617270", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "3591fbec-79d2-4166-b3ef-0da79cc37bf5", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedColumn: column merchants.city does not exist\nLINE 1: ...hants_name, merchants.sector AS merchants_sector, merchants....\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    merchants = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3319, in all\n    return list(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3481, in __iter__\n    return self._execute_and_instances(context)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3506, in _execute_and_instances\n    result = conn.execute(querycontext.statement, self._params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column merchants.city does not exist\nLINE 1: ...hants_name, merchants.sector AS merchants_sector, merchants....\n                                                             ^\n\n[SQL: SELECT merchants.created_at AS merchants_created_at, merchants.deleted_at AS merchants_deleted_at, merchants.updated_at AS merchants_updated_at, merchants.id AS merchants_id, merchants.name AS merchants_name, merchants.sector AS merchants_sector, merchants.city AS merchants_city \nFROM merchants]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to GetGeneralMerchant: ValueError('Protocol message PartnerMerchant has no \"city\" field.')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T16:20:14.538614", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "81febc6a-a5c1-4fbe-8e6c-54e1e5d50232", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 22, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nValueError: Protocol message PartnerMerchant has no \"city\" field.\n"}
{"message": "Error in call to GetGeneralMerchant: AttributeError(\"'list' object has no attribute 'add'\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T16:21:40.993862", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "8a5d1d87-9282-40b4-ab0f-9b5a789bd365", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 23, in get_merchants_response_from_orm_merchants\n    partner_merchants.add(partner_merchant)\nAttributeError: 'list' object has no attribute 'add'\n"}
{"message": "Error in call to CreateGeneralMerchant: ProgrammingError('(psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\\nLINE 1: INSERT INTO merchants (deleted_at, name, sector, street_addr...\\n                    ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T19:13:26.355532", "request": {"raw": "partnerMerchant {\n  name: \"webuyanycar\"\n  sector: \"cars\"\n}\n", "optional_request_dict": {"partnerMerchant": {"name": "webuyanycar", "sector": "cars"}}}, "rollbar_uuid": "d3b89569-583d-41af-b541-0183bd29c54e", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedTable: relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, name, sector, street_addr...\n                    ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 35, in CreateGeneralMerchant\n    session.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 1042, in commit\n    self.transaction.commit()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 504, in commit\n    self._prepare_impl()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 483, in _prepare_impl\n    self.session.flush()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2523, in flush\n    self._flush(objects)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2664, in _flush\n    transaction.rollback(_capture_exception=True)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py\", line 69, in __exit__\n    exc_value, with_traceback=exc_tb,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/session.py\", line 2624, in _flush\n    flush_context.execute()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 422, in execute\n    rec.execute(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py\", line 589, in execute\n    uow,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 245, in save_obj\n    insert,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py\", line 1136, in _emit_insert_statements\n    statement, params\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation \"merchants\" does not exist\nLINE 1: INSERT INTO merchants (deleted_at, name, sector, street_addr...\n                    ^\n\n[SQL: INSERT INTO merchants (deleted_at, name, sector, street_address, postcode, country, city) VALUES (%(deleted_at)s, %(name)s, %(sector)s, %(street_address)s, %(postcode)s, %(country)s, %(city)s) RETURNING merchants.id]\n[parameters: {'deleted_at': None, 'name': 'webuyanycar', 'sector': 'cars', 'street_address': None, 'postcode': None, 'country': None, 'city': None}]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to GetGeneralMerchant: TypeError(\"<bound method AddressMixin.street_address of <Merchant(id='1', name='webuyanycar'...)>> has type method, but expected one of: bytes, unicode\")", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T23:23:40.863867", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "88502fe1-0d53-417f-9f83-3413cae849a5", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 62, in GetGeneralMerchant\n    return get_merchants_response_from_orm_merchants(orm_merchants=merchants)\n  File \"/Users/noah/Otis/backend/lib/service/prototools/merchant.py\", line 21, in get_merchants_response_from_orm_merchants\n    partner_merchant = partnermerchant.PartnerMerchant(**orm_merchant_dict)\nTypeError: <bound method AddressMixin.street_address of <Merchant(id='1', name='webuyanycar'...)>> has type method, but expected one of: bytes, unicode\n"}
{"message": "Error in call to GetGeneralMerchant: ProgrammingError('(psycopg2.errors.UndefinedColumn) column merchants.street_address does not exist\\nLINE 1: ...S merchants_sector, merchants.id AS merchants_id, merchants....\\n                                                             ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T23:24:34.943594", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "cddda93f-b445-44a0-bff7-5e0a57d5ca00", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedColumn: column merchants.street_address does not exist\nLINE 1: ...S merchants_sector, merchants.id AS merchants_id, merchants....\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    merchants = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3319, in all\n    return list(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3481, in __iter__\n    return self._execute_and_instances(context)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3506, in _execute_and_instances\n    result = conn.execute(querycontext.statement, self._params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column merchants.street_address does not exist\nLINE 1: ...S merchants_sector, merchants.id AS merchants_id, merchants....\n                                                             ^\n\n[SQL: SELECT merchants.created_at AS merchants_created_at, merchants.deleted_at AS merchants_deleted_at, merchants.updated_at AS merchants_updated_at, merchants.name AS merchants_name, merchants.sector AS merchants_sector, merchants.id AS merchants_id, merchants.street_address AS merchants_street_address, merchants.postcode AS merchants_postcode, merchants.country AS merchants_country, merchants.city AS merchants_city \nFROM merchants]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
{"message": "Error in call to GetGeneralMerchant: ProgrammingError('(psycopg2.errors.UndefinedColumn) column merchants.street_address does not exist\\nLINE 1: ...S merchants_sector, merchants.id AS merchants_id, merchants....\\n                                                             ^\\n')", "level": "ERROR", "name": "merchant-service", "time": "2020-06-08T23:30:15.834770", "request": {"raw": "", "optional_request_dict": {}}, "rollbar_uuid": "e92ba4a4-7e57-4ffe-814a-4503a70a940b", "traceback": "Traceback (most recent call last):\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedColumn: column merchants.street_address does not exist\nLINE 1: ...S merchants_sector, merchants.id AS merchants_id, merchants....\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/noah/Otis/backend/lib/service/utils/wrappers.py\", line 18, in wrap\n    return_value = func(*args, **kwargs, optional_request_dict=request_dict)\n  File \"/Users/noah/Otis/backend/service/merchant/impl/impl.py\", line 60, in GetGeneralMerchant\n    merchants = session.query(Merchant).filter_by(**optional_request_dict).all()\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3319, in all\n    return list(self)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3481, in __iter__\n    return self._execute_and_instances(context)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/orm/query.py\", line 3506, in _execute_and_instances\n    result = conn.execute(querycontext.statement, self._params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1020, in execute\n    return meth(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\n    return connection._execute_clauseelement(self, multiparams, params)\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1139, in _execute_clauseelement\n    distilled_params,\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1324, in _execute_context\n    e, statement, parameters, cursor, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1518, in _handle_dbapi_exception\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\n    raise exception\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/base.py\", line 1284, in _execute_context\n    cursor, statement, parameters, context\n  File \"/Users/noah/Otis/backend/service/merchant/merchant-service-venv/lib/python3.7/site-packages/sqlalchemy/engine/default.py\", line 590, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column merchants.street_address does not exist\nLINE 1: ...S merchants_sector, merchants.id AS merchants_id, merchants....\n                                                             ^\n\n[SQL: SELECT merchants.created_at AS merchants_created_at, merchants.deleted_at AS merchants_deleted_at, merchants.updated_at AS merchants_updated_at, merchants.name AS merchants_name, merchants.sector AS merchants_sector, merchants.id AS merchants_id, merchants.street_address AS merchants_street_address, merchants.postcode AS merchants_postcode, merchants.country AS merchants_country, merchants.city AS merchants_city \nFROM merchants]\n(Background on this error at: http://sqlalche.me/e/f405)\n"}
